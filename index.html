<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Primary : Générateur de tokens CSS</title>
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg" />
    <link rel="stylesheet" href="assets/css/app.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css"
    />
  </head>
  <body data-layout="boxed">
    <header class="header" role="banner" data-layout="repel">
      <div>
        <h1 class="title">Primary</h1>
        <p class="subtitle">
          Générateur de tokens CSS sémantiques pour Alsacréations
        </p>
      </div>

      <!-- Indicateur d'étapes -->
      <nav
        class="steps-nav"
        aria-label="Étapes de configuration"
        role="navigation"
      >
        <ol class="steps-list" data-layout="cluster" data-justify="center">
          <li class="step is-active">
            <button
              type="button"
              class="step-button"
              data-step="1"
              aria-current="step"
            >
              <span class="step-number">1</span>
              <span class="step-label">Sources</span>
            </button>
          </li>
          <li class="step">
            <button type="button" class="step-button" data-step="2">
              <span class="step-number">2</span>
              <span class="step-label">Configuration</span>
            </button>
          </li>
          <li class="step">
            <button type="button" class="step-button" data-step="3">
              <span class="step-number">3</span>
              <span class="step-label">Génération</span>
            </button>
          </li>
        </ol>
      </nav>
    </header>

    <main class="main" role="main">
      <!-- Étape 1 : Sources -->
      <section
        class="step-section is-visible"
        id="step-sources"
        aria-labelledby="step-sources-title"
      >
        <div data-layout="stack" data-gap="l">
          <header>
            <h2 id="step-sources-title" class="step-title">Sources</h2>
            <p class="step-description">
              Variables primitives du thème et personnalisations
            </p>
          </header>

          <div class="container">
            <!-- Affichage theme.css -->
            <div class="source-display">
              <h3 class="source-title">Variables primitives (theme.css)</h3>
              <pre
                class="source-code"
                aria-label="Contenu du fichier theme.css"
              ><code id="theme-preview"><!-- Sera rempli par JS --></code></pre>
            </div>

            <!-- Variables personnalisées -->
            <div class="custom-vars">
              <label for="custom-vars-input" class="custom-vars-label">
                Variables de couleurs personnalisées (optionnel)
              </label>
              <p class="custom-vars-hint" id="custom-vars-hint">
                Ajoutez vos propres variables de couleurs au format OKLCH.<br />
                Exemple :
                <code>--color-raspberry-500: oklch(64.5% 0.2 352);</code>
              </p>
              <textarea
                id="custom-vars-input"
                class="custom-vars-input"
                aria-describedby="custom-vars-hint"
                rows="10"
              ></textarea>
            </div>
          </div>
        </div>
      </section>

      <!-- Étape 2 : Configuration -->
      <section
        class="step-section"
        id="step-config"
        aria-labelledby="step-config-title"
        hidden
      >
        <div data-layout="stack" data-gap="l">
          <header>
            <h2 id="step-config-title" class="step-title">Configuration</h2>
            <p class="step-description">Personnalisez vos tokens sémantiques</p>
          </header>

          <form
            class="config-form"
            data-layout="stack"
            data-gap="l"
            role="form"
          >
            <!-- Couleur primaire -->
            <fieldset class="config-fieldset">
              <legend class="config-legend">Couleur primaire</legend>
              <div class="color-choices" data-layout="cluster" data-gap="s">
                <label class="color-choice">
                  <input
                    type="radio"
                    name="primary-color"
                    value="blue"
                    checked
                  />
                  <span
                    class="color-swatch"
                    style="background: var(--color-blue-500)"
                  ></span>
                  <span class="color-name">Bleu</span>
                </label>
                <label class="color-choice">
                  <input type="radio" name="primary-color" value="red" />
                  <span
                    class="color-swatch"
                    style="background: var(--color-red-500)"
                  ></span>
                  <span class="color-name">Rouge</span>
                </label>
                <label class="color-choice">
                  <input type="radio" name="primary-color" value="green" />
                  <span
                    class="color-swatch"
                    style="background: var(--color-green-500)"
                  ></span>
                  <span class="color-name">Vert</span>
                </label>
                <label class="color-choice">
                  <input type="radio" name="primary-color" value="orange" />
                  <span
                    class="color-swatch"
                    style="background: var(--color-orange-500)"
                  ></span>
                  <span class="color-name">Orange</span>
                </label>
              </div>
            </fieldset>

            <!-- Mode thème -->
            <fieldset class="config-fieldset">
              <legend class="config-legend">Mode thème</legend>
              <div data-layout="stack" data-gap="s">
                <label class="config-radio">
                  <input type="radio" name="theme-mode" value="both" checked />
                  <span>Light et dark (avec <code>light-dark()</code>)</span>
                </label>
                <label class="config-radio">
                  <input type="radio" name="theme-mode" value="light" />
                  <span>Light uniquement</span>
                </label>
                <label class="config-radio">
                  <input type="radio" name="theme-mode" value="dark" />
                  <span>Dark uniquement</span>
                </label>
              </div>
            </fieldset>

            <!-- Typographie responsive -->
            <fieldset class="config-fieldset">
              <legend class="config-legend">Typographie</legend>
              <div data-layout="stack" data-gap="s">
                <label class="config-radio">
                  <input
                    type="radio"
                    name="typo-responsive"
                    value="true"
                    checked
                  />
                  <span
                    >Tailles de texte responsive (avec
                    <code>clamp()</code>)</span
                  >
                </label>
                <label class="config-radio">
                  <input type="radio" name="typo-responsive" value="false" />
                  <span>Tailles de texte fixes</span>
                </label>
              </div>
            </fieldset>

            <!-- Espacements responsive -->
            <fieldset class="config-fieldset">
              <legend class="config-legend">Espacements</legend>
              <div data-layout="stack" data-gap="s">
                <label class="config-radio">
                  <input
                    type="radio"
                    name="spacing-responsive"
                    value="true"
                    checked
                  />
                  <span
                    >Espacements responsive (avec <code>clamp()</code>)</span
                  >
                </label>
                <label class="config-radio">
                  <input type="radio" name="spacing-responsive" value="false" />
                  <span>Espacements fixes</span>
                </label>
              </div>
            </fieldset>

            <!-- Famille de police -->
            <fieldset class="config-fieldset">
              <legend class="config-legend">Famille de police</legend>
              <div data-layout="stack" data-gap="s">
                <label class="config-radio">
                  <input
                    type="radio"
                    name="font-family"
                    value="system"
                    checked
                  />
                  <span>Police système</span>
                </label>
                <label class="config-radio">
                  <input type="radio" name="font-family" value="poppins" />
                  <span>Police personnalisée (Poppins)</span>
                </label>
              </div>
            </fieldset>
          </form>
        </div>
      </section>

      <!-- Étape 3 : Génération -->
      <section
        class="step-section"
        id="step-generate"
        aria-labelledby="step-generate-title"
        hidden
      >
        <div data-layout="stack" data-gap="l">
          <div class="generated-output">
            <!-- Colonne de gauche : Informations -->
            <div data-layout="stack" data-gap="m">
              <div>
                <h2 id="step-generate-title" class="step-title">Et voilà !</h2>
                <p class="info-description">
                  Voici tous vos fichiers CSS personnalisés pour votre projet
                </p>
              </div>

              <div>
                <h4 class="config-legend">Architecture recommandée</h4>
                <pre class="architecture-preview"><code>css/
├── reset.css         # Reset
├── fonts.css         # @font-face
├── layouts.css       # Styles des Layouts (Bretzel)
├── natives.css       # Styles des éléments natifs (KNACSS)
├── theme.css         # Variables primitives
├── theme-tokens.css  # Tokens sémantiques
├── styles.css        # Styles de base (body, typo, liens, etc.)
└── app.css           # Point d'entrée principal</code></pre>
              </div>

              <div>
                <h4 class="config-legend">Composition de app.css</h4>
                <pre
                  class="generated-code"
                ><code id="app-css-example">/* css/app.css */
/* L'ordre des layers définit la priorité des styles */
/* Chaque layer écrase le précédent si conflit */
@layer config, base, components, utilities;

/* Config (reset, polices, themes, layouts) */
@import "reset.css" layer(config);
@import "theme.css" layer(config);
@import "theme-tokens.css" layer(config);
@import "layouts.css" layer(config);
@import "natives.css" layer(config);

/* Base */
@import "styles.css" layer(base);

/* Components */
/* Ici un @import dans le layer(components) */

/* Utilities */
/* Ici un @import dans le layer(utilities) */</code></pre>
              </div>
            </div>

            <!-- Colonne de droite : Fichiers -->
            <div data-layout="stack" data-gap="m">
              <!-- app.css -->
              <details>
                <summary>
                  <strong>app.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-app"
                    aria-label="Copier le code de app.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-app"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- reset.css -->
              <details>
                <summary>
                  <strong>reset.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-reset"
                    aria-label="Copier le code de reset.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-reset"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- theme.css -->
              <details>
                <summary>
                  <strong>theme.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-theme"
                    aria-label="Copier le code de theme.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-theme"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- theme-tokens.css -->
              <details>
                <summary>
                  <strong>theme-tokens.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-tokens"
                    aria-label="Copier le code de theme-tokens.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-tokens"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- layouts.css -->
              <details>
                <summary>
                  <strong>layouts.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-layouts"
                    aria-label="Copier le code de layouts.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-layouts"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- natives.css -->
              <details>
                <summary>
                  <strong>natives.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-natives"
                    aria-label="Copier le code de natives.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-natives"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- styles.css -->
              <details>
                <summary>
                  <strong>styles.css</strong>
                </summary>
                <div class="code-wrapper">
                  <button
                    type="button"
                    class="btn-copy-overlay"
                    id="btn-copy-styles"
                    aria-label="Copier le code de styles.css"
                  >
                    Copier
                  </button>
                  <pre
                    class="generated-code"
                  ><code id="generated-styles"><!-- Sera rempli par JS --></code></pre>
                </div>
              </details>

              <!-- Bouton de téléchargement unique -->
              <div data-layout="stack" data-gap="s">
                <button
                  type="button"
                  class="btn btn-primary"
                  id="btn-download-all"
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    aria-hidden="true"
                  >
                    <path
                      d="M8 11L4 7h2.5V1h3v6H12L8 11zM2 13v2h12v-2H2z"
                      fill="currentColor"
                    />
                  </svg>
                  Tout télécharger
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Navigation -->
      <nav
        class="step-actions"
        data-layout="repel"
        aria-label="Navigation entre les étapes"
        role="navigation"
      >
        <button type="button" class="btn btn-secondary" id="btn-prev" disabled>
          Précédent
        </button>
        <button type="button" class="btn btn-primary" id="btn-next">
          Suivant
        </button>
      </nav>
    </main>

    <footer class="footer" role="contentinfo">
      <p class="footer-text">
        Made with <span aria-label="amour">❤️</span> by
        <a href="https://www.alsacreations.fr" class="footer-link"
          >Alsacréations</a
        >
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="assets/js/app.js" type="module"></script>
  </body>
</html>
